using UnityEngine;

public class StickyPenTest : MonoBehaviour
{
    // The FixedJoint2D component we'll use to stick the objects together
    private FixedJoint2D joint;
    private GameObject otherObject;

    // Called when the object collides with something
    void OnCollisionEnter2D(Collision2D collision)
    {
        if (collision.gameObject.CompareTag("Mutable Object"))
        {
            otherObject = collision.gameObject;
        }
        // If the other object collides with us and we don't have a joint
        if (joint == null && otherObject != null)
        {
            // Add a FixedJoint2D component to our object
            joint = gameObject.AddComponent<FixedJoint2D>();

            // Set the other object as the connected body
            joint.connectedBody = otherObject.GetComponent<Rigidbody2D>();

            // Set the joint's break force to a high value so it doesn't break easily
            joint.breakForce = Mathf.Infinity;
        }
    }
}